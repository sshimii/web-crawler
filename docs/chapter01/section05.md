# 1.5 Session 和 Cookies

&emsp;&emsp;小伙伴们，在浏览网页时，是不是经常遇到需要网站登录后，才可以浏览网页内容的情况呢？这种情况应该是经常遇到的吧！不知道小伙伴们，有没有思考过这里面会用到什么？会涉及到什么知识？我当时也没有思考过这里面其中的原理，还是经过学习才明白其中的原理。其实，这里面涉及了 Session 和 Cookie相关知识。看到这，小伙伴们可能有点懵了，请接着读下去，小伙伴们就会明白的。

## 1.5.1 Session
&emsp;&emsp;首先，先让我们了解下Session吧！Session，中文称为会话。其本意是指有始有终的一系列动作、信息。但随着不同的场景中，有着不同的含义。而在web网页中，Session对象存储整个会话过程中的需要保持其状态的信息，其目的是在Web服务器上保持用户的状态信息供在任何时间从任何设备上的页面进行访问。

## 1.5.2 Cookie
&emsp;&emsp;接下来，我们来简短的认识一下Cookie吧！Cookie，中文为“甜饼”，但它在这里可不是“甜饼”的意思。它在这里是一个保存在客户机中的简单的文本文件, 这个文件与特定的 Web 文档关联在一起, 保存了该客户机访问这个 Web 文档时的信息, 当客户机再次访问这个 Web 文档时这些信息可供该文档使用。简短来说，Cookie是某些网站为了辨别用户身份，进行Session跟踪而储存在用户本地终端上的数据（通常经过加密），由用户客户端计算机暂时或永久保存的信息。

&emsp;&emsp;Cookie是一段不超过4kb的小型文本数据。由一个名称（Name）、一个值（Value）和其他几个用于控制Cookie有效期、安全性、使用范围的可选属性组成。其中有关属性的具体的内容，可以参考百度百科对Cookie的描述。

&emsp;&emsp;对于Cookie,我们一般有两个分类。其中一个是会话Cookie,另一个是持久Cookie.会话Cookie就是把Cookie放在浏览器内存中，浏览器关闭后，Cookie便会失效。持久Cookie把Cookie保存在本地，不会随着浏览器的关闭而失效。

## 1.5.3 Session 和 Cookie 的关系
&emsp;&emsp;看到上面对 Session 和 Cookie 的简短的介绍，小伙伴可能还是一脸茫然，不知道他们和登录的关系，那么我们接下来将会阐述其中的关系。

&emsp;&emsp;当我们第一次登录网站时，客户端（本机）就会向服务端发送一个请求，服务器接收请求后会返回一个响应头中带有 Set-Cookie 的字段给客户端，而这个字段用来标记用户（关系是一一对应的。）。这时，客户端便会把其中的 Cookie 信息，保存在本地中，当我们再次发起请求时，会将带上其中的 Cookie 的信息，服务器接收请求后，会根据其中的信息，来找出所对应的 Session。如果能找出其中的 Session。那么用户是处于登录状态，用户便可浏览其中所对应的内容。否则，用户看不到所对应的内容。


&emsp;&emsp;不知道小伙伴们懂了没，如果没懂的话，我们来一个更贴近生活的例子。就比如我们去洗澡，我们进门后，先拿到我们的手牌，这个手牌是商家分配给我们的，它只能打开一个柜子。而打开这个柜子的规则是由商家定义的。当我们去开柜子时，我们必须使用这个手牌才能打开。我们在洗浴店时，这个手牌我们可以使用。当我们离开时，我们便不可以再使用。虽然这个例子不是很贴切，但还是希望小伙伴们能够明白。

&emsp;&emsp;看到上面的内容，我们便会明白Session和Cookie两者是缺一不可的，Session在服务端发挥作用，而Cookie在客户端发挥作用。两者共同发挥作用，我们才能通过登录访问网站。

## 1.5.4 总结
&emsp;&emsp;本小节，我们简单了解了Session和Cookie的概念和原理，这些知识将在后面的章节中用到，还希望小伙伴们能够了解其中的概念。

-------

参考材料：

- 百度百科上Session和Cookie的介绍
- 《python3网络爬虫开发实战》
